(window.webpackJsonpmpp=window.webpackJsonpmpp||[]).push([[0],{148:function(e,t,n){e.exports=n.p+"static/media/logo.2054d5e3.png"},174:function(e,t,n){e.exports=n(222)},179:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(16),o=n.n(l),c=(n(179),n(9)),i=n(151),s=n(271),u=a.createContext({notes:[],setNotes:function(){}}),m=Object(a.createContext)({workshops:[],setWorkshops:function(){}}),d=Object(a.createContext)({dropdowns:{},setDropdowns:function(){}}),p=n(31),b=n(18),f=n(37),v=n(10),E=n(248),h=n(80),y=n(252),g=n(141),O=n.n(g),j=(n(180),n(100)),x=n(11),C=n(17),w=n.n(C),k=n(23),P=n(133),N=n.n(P),S="https://api.mpp.reconnect.fr",D="".concat(S,"/oauth/trigger"),B="".concat(S,"/admin"),I="".concat(S,"/api"),A="".concat(I,"/centers"),q="".concat(I,"/dropdowns"),R="".concat(S,"/login"),M="".concat(S,"/logout"),T="".concat(I,"/notes"),V="".concat(I,"/tags"),F="".concat(I,"/workshops"),K=N.a.create();K.defaults.withCredentials=!0;var W=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,a,r=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",a=r.length>2&&void 0!==r[2]?r[2]:{},e.abrupt("return",K({method:n,url:t,headers:{},data:a}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return a.useCallback(Object(k.a)(w.a.mark(function a(){var r,l,o=arguments;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},a.prev=1,a.next=4,W(e,n,r);case 4:l=a.sent,null!==t&&t(l.data),l.request.responseURL===R&&"/login"!==window.location.pathname&&window.location.replace("login"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("Error making http call",e,a.t0.message);case 12:case"end":return a.stop()}},a,null,[[1,9]])})),[e])},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=L(e,t,n);return a.useEffect(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(e)},[e])};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 10px;\n  top: 10px;\n"]);return G=function(){return e},e}var J=Object(x.a)(E.a)(G()),$=Object(b.h)(function(e){var t=e.history,n=Object(a.useContext)(u);z("".concat(T),function(e){n.setNotes(e["hydra:member"])});var l={},o={},c={};return n.notes.forEach(function(e,t){l=U({},l,Object(f.a)({},e.date,e.nbProAccounts)),o=U({},o,Object(f.a)({},e.date,e.nbBeneficiariesAccounts)),c=U({},c,Object(f.a)({},e.date,e.nbStoredDocs))}),r.a.createElement(y.a,{maxWidth:"sm"},r.a.createElement(J,{size:"small",color:"primary","aria-label":"add",onClick:function(){return t.push("")}},r.a.createElement(O.a,null)),r.a.createElement(h.a,{variant:"h3",component:"h2",gutterBottom:!0,color:"textPrimary"},"Statistiques"),r.a.createElement(h.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"},"Nombre de comptes b\xe9n\xe9ficiaires cr\xe9es par permanence"),r.a.createElement(j.a,{data:o,colors:["white"]}),r.a.createElement(h.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"},"Nombre de comptes pros cr\xe9es par permanence"),r.a.createElement(j.a,{data:l,colors:["#d35400"]}),r.a.createElement(h.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"},"Nombre de documents stock\xe9s par permanence"),r.a.createElement(j.a,{data:c,colors:["#8e44ad"]}))}),H=n(253),X=n(280),Y=n(279),Z=n(257),_=n(224),ee=n(258),te=n(259),ne=n(142),ae=n.n(ne),re=n(143),le=n.n(re),oe=n(144),ce=n.n(oe),ie=n(145),se=n.n(ie);function ue(){var e=Object(v.a)(["\n  position: absolute !important;\n  left: 50px;\n  top: 10px;\n"]);return ue=function(){return e},e}function me(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 100px;\n  top: 10px;\n"]);return me=function(){return e},e}function de(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 10px;\n  top: 10px;\n"]);return de=function(){return e},e}function pe(){var e=Object(v.a)(["\n  background-color: #212121;\n  color: white;\n  cursor: pointer;\n  border-radius: 12px;\n  padding: 10px;\n"]);return pe=function(){return e},e}function be(){var e=Object(v.a)(["\n  display: flex;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  justify-content: space-around;\n"]);return be=function(){return e},e}function fe(){var e=Object(v.a)(["\n  padding-top: 50px;\n  display: flex;\n  flex-direction: column;\n"]);return fe=function(){return e},e}var ve=x.a.div(fe()),Ee=x.a.div(be()),he=x.a.a(pe()),ye=Object(x.a)(E.a)(de()),ge=Object(x.a)(H.a)(me()),Oe=Object(x.a)(H.a)(ue()),je=function(){var e=Object(b.e)(),t=Object(a.useState)([]),n=Object(c.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)([]),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)([]),p=Object(c.a)(d,2),f=p[0],v=p[1];z(A,function(e){o(e["hydra:member"]),v(e["hydra:member"])}),z(V,function(e){return m(e["hydra:member"])});return r.a.createElement(y.a,{maxWidth:"md"},r.a.createElement(ve,null,r.a.createElement(ge,{onClick:Object(k.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(M);case 2:window.location.replace("/");case 3:case"end":return e.stop()}},e)}))},"D\xe9connexion"),r.a.createElement(Oe,{onClick:function(){window.location.replace(B)}},"Admin"),r.a.createElement(ye,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.push("/charts")}},r.a.createElement(ae.a,null)),r.a.createElement(h.a,{variant:"h2",component:"h2",gutterBottom:!0,color:"textPrimary"},"Centres"),r.a.createElement(Ee,null,u?u.map(function(e){return r.a.createElement(X.a,{key:e.id,label:e.name,clickable:!0,color:"secondary",onClick:function(){return t=e.id,void v(l.filter(function(e){return e.tags.includes("/api/tags/".concat(t))}));var t}})}):null),r.a.createElement(Y.a,{id:"outlined-basic",label:"Rechercher",variant:"outlined",onChange:function(e){var t=e.target.value;v(l.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}}),r.a.createElement(Z.a,{dense:!1},f?f.map(function(t){return r.a.createElement(_.a,{key:t.id},r.a.createElement(ee.a,null,r.a.createElement(le.a,{htmlColor:"white"})),r.a.createElement(te.a,{secondary:t.name}),t.permanence?r.a.createElement(he,{style:{textAlign:"center",width:200},onClick:function(){return e.push("/notes/".concat(t.id))}},r.a.createElement(ce.a,{htmlColor:"white"}),r.a.createElement(te.a,{primary:"Permanences"})):null,t.workshop?r.a.createElement(he,{style:{marginLeft:8,textAlign:"center",width:200},onClick:function(){return e.push("/centers/".concat(t.id,"/workshops"))}},r.a.createElement(se.a,{htmlColor:"white"}),r.a.createElement(te.a,{primary:"Ateliers"})):null)}):null)))},xe=n(149),Ce=n.n(xe),we=n(60),ke=n(148),Pe=n.n(ke);function Ne(){var e=Object(v.a)(["\n  padding-top: 100px;\n  margin-bottom: 200px;\n  display: flex;\n  flex-direction: column;\n"]);return Ne=function(){return e},e}function Se(){var e=Object(v.a)(["\n  padding-top: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Se=function(){return e},e}function De(){var e=Object(v.a)(["\n  width: 140px;\n  height: 140px;\n  align-self: center;\n"]);return De=function(){return e},e}var Be=x.a.img(De()),Ie=x.a.div(Se()),Ae=x.a.form(Ne()),qe=function(){var e=Object(b.e)(),t=function(){var t=Object(k.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(R,"POST",n);case 2:e.push("/");case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return a.createElement(y.a,{maxWidth:"sm"},a.createElement(Ie,null,a.createElement(h.a,{variant:"h3",component:"h2",gutterBottom:!0,color:"textPrimary"},"Ma petite permanence"),a.createElement(Be,{src:Pe.a,alt:"logo"})),a.createElement(we.a,{initialValues:{email:"",password:""},onSubmit:t,render:function(e){return a.createElement(Ae,{onSubmit:e.handleSubmit},a.createElement(Y.a,{id:"email",name:"email",type:"email",label:"Email",margin:"normal",variant:"outlined",onChange:e.handleChange}),e.errors.email&&a.createElement("div",{id:"feedback"},e.errors.email),a.createElement(Y.a,{id:"password",name:"password",type:"password",label:"Password",margin:"normal",variant:"outlined",onChange:e.handleChange}),e.errors.password&&a.createElement("div",{id:"feedback"},e.errors.password),a.createElement(H.a,{variant:"outlined",color:"primary",type:"submit"},"Login"),a.createElement(H.a,{color:"primary",variant:"contained",style:{marginTop:50,marginBottom:100,fontSize:20},href:D},a.createElement(Ce.a,{style:{marginRight:20}}),"Me connecter avec Reconnect Pro"))}}))},Re=n(278),Me=n(266),Te=n(261),Ve=n(262),Fe=n(267),Ke=n(274),We=n(95),Le=n.n(We),ze=n(112),Qe=n(62),Ue=n(45),Ge=n(78),Je=n(24),$e=n(272);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Xe(){var e=Object(v.a)(["\n  margin-bottom: 100px;\n  display: flex;\n  flex-direction: column;\n"]);return Xe=function(){return e},e}var Ye=x.a.form(Xe()),Ze=function(e){var t=e.centerId,n=e.closeModal,r=a.useContext(u),l=r.notes,o=r.setNotes,i=a.useState(new Date),s=Object(c.a)(i,2),m=s[0],d=s[1],p=function(){var e=Object(k.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(T,"POST",t);case 2:a=e.sent,n(),o([a.data].concat(Object(Ue.a)(l)));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function b(e){d(e)}return a.createElement(y.a,{maxWidth:"sm"},a.createElement(we.a,{initialValues:{date:new Date,center:"",hours:0,attendees:"",place:"",nbPros:0,nbProAccounts:0,nbBeneficiaries:0,nbBeneficiariesAccounts:0,nbStoredDocs:0,beneficiariesNotes:"",proNotes:"",reconnectNotes:""},onSubmit:function(e){p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{date:m,center:"/api/centers/".concat(t)}))},render:function(e){return a.createElement(Ye,{onSubmit:e.handleSubmit},a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1}},a.createElement(Je.a,{utils:Ge.a},a.createElement($e.a,{disableToolbar:!0,format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date",onChange:b,variant:"inline",value:m,KeyboardButtonProps:{"aria-label":"change date"}}))),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"hours",label:"Nombre d'heures",name:"hours",onChange:e.handleChange,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-pros",label:"Nb pros rencontr\xe9s",name:"nbPros",onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-pro-accounts",label:"Nb comptes pros cr\xe9es",name:"nbProAccounts",onChange:e.handleChange,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-beneficiaries",label:"Nb benefs rencontr\xe9s",name:"nbBeneficiaries",onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-beneficiaries-accounts",label:"Nb comptes benef cr\xe9es",name:"nbBeneficiariesAccounts",onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-docs-stored",label:"Nb doc stock\xe9s",name:"nbStoredDocs",onChange:e.handleChange,type:"number",variant:"outlined"}))),a.createElement(Y.a,{id:"attendees",name:"attendees",type:"text",label:"Qui a fait la perm",margin:"normal",variant:"outlined",onChange:e.handleChange}),e.errors.attendees&&a.createElement("div",{id:"feedback"},e.errors.attendees),a.createElement(Y.a,{id:"place",name:"place",type:"text",label:"Lieu (optionnel)",margin:"normal",variant:"outlined",value:e.values.place,onChange:e.handleChange}),e.errors.place&&a.createElement("div",{id:"feedback"},e.errors.place),a.createElement(Y.a,{id:"beneficiaries-notes",name:"beneficiariesNotes",type:"text",label:"Remarques en rapport avec les b\xe9n\xe9ficiaires",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.beneficiariesNotes&&a.createElement("div",{id:"feedback"},e.errors.beneficiariesNotes),a.createElement(Y.a,{id:"pro-notes",name:"proNotes",type:"text",label:"Remarques en rapport avec les professionnels",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.proNotes&&a.createElement("div",{id:"feedback"},e.errors.proNotes),a.createElement(Y.a,{id:"reconnect-notes",name:"reconnectNotes",type:"text",label:"Remarques en rapport avec Reconnect",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.reconnectNotes&&a.createElement("div",{id:"feedback"},e.errors.reconnectNotes),a.createElement(H.a,{variant:"contained",color:"primary",type:"submit"},"Cr\xe9er"))}}))};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function et(){var e=Object(v.a)(["\n  margin-bottom: 100px;\n  display: flex;\n  flex-direction: column;\n"]);return et=function(){return e},e}var tt=x.a.form(et()),nt=Object(b.h)(function(e){var t=e.centerId,n=e.closeModal,r=e.note,l=a.useContext(u),o=l.setNotes,i=l.notes,s=function(){var e=Object(k.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(T,"/").concat(t.id),"PUT",t);case 2:a=e.sent,n(),o(i.map(function(e){return e.id===a.data.id?a.data:e}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=a.useState(new Date),d=Object(c.a)(m,2),p=d[0],b=d[1];function v(e){b(e)}return a.createElement(y.a,{maxWidth:"sm"},a.createElement(we.a,{enableReinitialize:!0,initialValues:r,onSubmit:function(e){s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{date:p,center:"/api/centers/".concat(t)}))}},function(e){return a.createElement(tt,{onSubmit:e.handleSubmit},a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1}},a.createElement(Je.a,{utils:Ge.a},a.createElement($e.a,{disableToolbar:!0,format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date",onChange:v,variant:"inline",value:p,KeyboardButtonProps:{"aria-label":"change date"}}))),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"hours",label:"Nombre d'heures",name:"hours",onChange:e.handleChange,value:e.values.hours,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-pros",label:"Nb pros rencontr\xe9s",name:"nbPros",onChange:e.handleChange,type:"number",value:e.values.nbPros,variant:"outlined"})),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-pro-accounts",label:"Nb comptes pros cr\xe9es",name:"nbProAccounts",onChange:e.handleChange,value:e.values.nbProAccounts,type:"number",variant:"outlined"}))),a.createElement("div",{style:{height:16}}),a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-beneficiaries",label:"Nb benefs rencontr\xe9s",name:"nbBeneficiaries",onChange:e.handleChange,type:"number",value:e.values.nbBeneficiaries,variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-beneficiaries-accounts",label:"Nb comptes benef cr\xe9es",name:"nbBeneficiariesAccounts",value:e.values.nbBeneficiariesAccounts,onChange:e.handleChange,type:"number",variant:"outlined"})),a.createElement("div",{style:{width:8}}),a.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center",display:"flex"}},a.createElement(Y.a,{id:"nb-docs-stored",label:"Nb doc stock\xe9s",name:"nbStoredDocs",onChange:e.handleChange,value:e.values.nbStoredDocs,type:"number",variant:"outlined"}))),a.createElement(Y.a,{id:"attendees",name:"attendees",type:"text",label:"Qui a fait la perm",margin:"normal",variant:"outlined",value:e.values.attendees,onChange:e.handleChange}),e.errors.attendees&&a.createElement("div",{id:"feedback"},e.errors.attendees),a.createElement(Y.a,{id:"place",name:"place",type:"text",label:"Lieu (optionnel)",margin:"normal",variant:"outlined",value:e.values.place,onChange:e.handleChange}),e.errors.place&&a.createElement("div",{id:"feedback"},e.errors.place),a.createElement(Y.a,{id:"beneficiaries-notes",name:"beneficiariesNotes",type:"text",label:"Remarques en rapport avec les b\xe9n\xe9ficiaires",margin:"normal",variant:"outlined",multiline:!0,rows:"4",value:e.values.beneficiariesNotes,onChange:e.handleChange}),e.errors.beneficiariesNotes&&a.createElement("div",{id:"feedback"},e.errors.beneficiariesNotes),a.createElement(Y.a,{id:"pro-notes",name:"proNotes",type:"text",label:"Remarques en rapport avec les professionnels",margin:"normal",variant:"outlined",value:e.values.proNotes,multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.proNotes&&a.createElement("div",{id:"feedback"},e.errors.proNotes),a.createElement(Y.a,{id:"reconnect-notes",name:"reconnectNotes",value:e.values.reconnectNotes,type:"text",label:"Remarques en rapport avec Reconnect",margin:"normal",variant:"outlined",multiline:!0,rows:"4",onChange:e.handleChange}),e.errors.reconnectNotes&&a.createElement("div",{id:"feedback"},e.errors.reconnectNotes),a.createElement(H.a,{variant:"contained",color:"primary",type:"submit"},"Mettre \xe0 jour"))}))}),at=n(264),rt=n(265),lt=n(284),ot=n(150),ct=n.n(ot),it=n(152);function st(){var e=Object(v.a)(["\n  margin: 8px;\n"]);return st=function(){return e},e}function ut(){var e=Object(v.a)(["\n  position: absolute !important;\n  right: 10px;\n  top: 10px;\n"]);return ut=function(){return e},e}function mt(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n"]);return mt=function(){return e},e}var dt=Object(x.a)(at.a)(mt()),pt=Object(x.a)(E.a)(ut()),bt=Object(x.a)(X.a)(st()),ft=Object(b.h)(function(e){e.history,e.match;var t=e.note,n=e.editNote;return r.a.createElement(dt,{key:t.id},r.a.createElement(rt.a,{style:{position:"relative",backgroundColor:"#212121"}},r.a.createElement(pt,{size:"small",color:"primary","aria-label":"add",onClick:function(){return n(t.id)}},r.a.createElement(ct.a,null)),r.a.createElement(h.a,{color:"textPrimary",gutterBottom:!0},"Date : ",Object(it.a)(new Date(t.date),"dd-MM-yyyy")),r.a.createElement(h.a,{variant:"body2",component:"p"},"Dur\xe9e : ",t.hours," h"),t.attendees?r.a.createElement(h.a,{variant:"body2",component:"p"},"Participants : ",t.attendees):null,t.place?r.a.createElement(h.a,{variant:"body2",component:"p"},"Lieu : ",t.place):null,r.a.createElement(bt,{avatar:r.a.createElement(lt.a,null,t.nbPros),label:"Professionnels rencontr\xe9s"}),r.a.createElement(bt,{avatar:r.a.createElement(lt.a,null,t.nbProAccounts),label:"Comptes pro cr\xe9es"}),r.a.createElement(bt,{avatar:r.a.createElement(lt.a,null,t.nbBeneficiaries),label:"B\xe9n\xe9ficiaires rencontr\xe9s"}),r.a.createElement(bt,{avatar:r.a.createElement(lt.a,null,t.nbBeneficiariesAccounts),label:"Comptes b\xe9n\xe9ficiaires cr\xe9es"}),r.a.createElement(bt,{avatar:r.a.createElement(lt.a,null,t.nbStoredDocs),label:"Documents stock\xe9s"}),r.a.createElement(h.a,{variant:"subtitle1"},"Remarques concernant les b\xe9n\xe9ficiaires"),r.a.createElement(h.a,{variant:"body2",component:"p"},t.beneficiariesNotes),r.a.createElement(h.a,{variant:"subtitle1"},"Remarques concernant les professionnels"),r.a.createElement(h.a,{variant:"body2",component:"p"},t.proNotes),r.a.createElement(h.a,{variant:"subtitle1"},"Remarques concernant Reconnect"),r.a.createElement(h.a,{variant:"body2",component:"p"},t.reconnectNotes)))});function vt(){var e=Object(v.a)(["\n  position: absolute;\n  right: 0;\n"]);return vt=function(){return e},e}function Et(){var e=Object(v.a)(["\n  position: relative;\n  align-self: stretch;\n  flex: 1;\n"]);return Et=function(){return e},e}function ht(){var e=Object(v.a)(["\n  flex: 1;\n"]);return ht=function(){return e},e}function yt(){var e=Object(v.a)(["\n  display: flex;\n  position: relative;\n"]);return yt=function(){return e},e}function gt(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n  margin-bottom: 32px;\n"]);return gt=function(){return e},e}function Ot(){var e=Object(v.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  color: whitesmoke;\n"]);return Ot=function(){return e},e}var jt=x.a.div(Ot()),xt=x.a.div(gt()),Ct=x.a.div(yt()),wt=Object(x.a)(h.a)(ht()),kt=x.a.div(Et()),Pt=Object(x.a)(E.a)(vt()),Nt=Object(b.h)(function(e){e.history;var t=e.match,n=Object(ze.a)(!1),l=Object(ze.a)(!1),o=Object(Qe.useNumber)(0),i=Object(c.a)(o,2),s=i[0],m=i[1],d=Object(Qe.useNumber)(0),p=Object(c.a)(d,2),b=p[0],f=p[1],v=Object(Qe.useNumber)(1),E=Object(c.a)(v,2),g=E[0],O=E[1],j=t.params.centerId,x=Object(a.useContext)(u),C=x.notes,w=x.setNotes,k=r.a.useState({}),P=Object(c.a)(k,2),N=P[0],S=P[1];z("".concat(A,"/").concat(j),S);var D=L("".concat(T,"?center=").concat(j,"&page=").concat(g),function(e){f.setValue(e["hydra:totalItems"]),w(e["hydra:member"])});r.a.useEffect(function(){D()},[D]);var B=function(e){m.setValue(e),l.setTrue()};return r.a.createElement(y.a,{maxWidth:"sm"},r.a.createElement(Re.a,{fullScreen:!0,open:n.value,onClose:n.setFalse,"aria-labelledby":"form-dialog-title"},r.a.createElement(Me.a,{id:"form-dialog-title"},"Cr\xe9er une note"),r.a.createElement(Te.a,null,r.a.createElement(Ze,{centerId:j,closeModal:n.setFalse})),r.a.createElement(Ve.a,null,r.a.createElement(H.a,{onClick:n.setFalse,color:"primary"},"Annuler"))),r.a.createElement(Re.a,{fullScreen:!0,open:l.value,onClose:l.setFalse,"aria-labelledby":"edit-note"},r.a.createElement(Me.a,{id:"edit-note"},"Modifier la note"),r.a.createElement(Te.a,null,r.a.createElement(nt,{centerId:j,note:C.find(function(e){return e.id===s}),closeModal:l.setFalse})),r.a.createElement(Ve.a,null,r.a.createElement(H.a,{onClick:l.setFalse,color:"primary"},"Annuler"))),r.a.createElement(jt,null,N?r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{variant:"h4",gutterBottom:!0,color:"textPrimary"},N.name),r.a.createElement(h.a,null,"Nb permanences: ",N.notes?N.notes.length:0),r.a.createElement(h.a,null,"Nb b\xe9nef rencontr\xe9s: ",N.beneficiaryCount),r.a.createElement(h.a,null,"Nb CFN cr\xe9es: ",N.createdBeneficiaryCount),r.a.createElement(h.a,null,"Nb docs stock\xe9s: ",N.documentsCount)):null,r.a.createElement("br",null),r.a.createElement(Ct,null,r.a.createElement(Fe.a,null),r.a.createElement(kt,null,r.a.createElement(Fe.a,null),r.a.createElement(wt,{variant:"h4",gutterBottom:!0,color:"textPrimary"},"Permanences"),r.a.createElement(Pt,{size:"medium",color:"primary","aria-label":"add",onClick:n.setTrue},r.a.createElement(Le.a,null)))),r.a.createElement(xt,null,r.a.createElement(Ke.a,{count:Math.ceil(b/30),variant:"outlined",page:g,onChange:function(e,t){return O.setValue(t)}})),C.map(function(e){return r.a.createElement(ft,{note:e,key:e.id,editNote:B})})))}),St=n(269),Dt=n(277),Bt=n(270),It=n(263),At=function(e){var t=e.label,n=e.handleChange,a=e.value;return r.a.createElement(Je.a,{utils:Ge.a},r.a.createElement($e.a,{disableToolbar:!0,format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:t,onChange:n,variant:"inline",value:a,KeyboardButtonProps:{"aria-label":"change date"}}))},qt=n(256),Rt=n(254),Mt=n(282),Tt=n(268),Vt=n(275);function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Kt(e,t){return e[t]?e[t].name:""}function Wt(e,t){return e[t]?e[t]:{}}function Lt(e,t){var n=Wt(e,t);return Object.keys(n).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n[e],{"@id":e})})}var zt=function(e){var t=e.id,n=e.label,l=e.value,o=e.setFieldValue,c=Lt(Object(a.useContext)(d).dropdowns,t),i=c||[];return r.a.createElement(qt.a,{style:{flex:1}},r.a.createElement(Mt.a,{id:t},n),r.a.createElement(Vt.a,{labelId:t,id:t,multiple:!0,value:l||[],onChange:function(e){o(t,e.target.value)},input:r.a.createElement(Rt.a,{id:t}),renderValue:function(e){return r.a.createElement("div",null,e.map(function(e){var t=i.find(function(t){return t["@id"]===e});return r.a.createElement(X.a,{key:e,label:t?t.name:""})}))}},i.map(function(e){return r.a.createElement(Tt.a,{key:e["@id"],value:e["@id"]},e.name)})))},Qt=function(e){var t=e.id,n=e.label,a=e.handleChange,l=e.value;return r.a.createElement(Y.a,{id:t,label:n,name:t,onChange:a,type:"number",variant:"outlined",style:{marginLeft:8,marginRight:8,flex:1},value:l})};function Ut(){var e=Object(v.a)(["\n  display: flex;\n  margin-top: 16px;\n"]);return Ut=function(){return e},e}var Gt=x.a.div(Ut()),Jt=function(e){var t=e.children;return r.a.createElement(Gt,null,t)},$t=function(e){var t=e.id,n=e.label,l=e.value,o=e.setFieldValue,c=e.required,i=Lt(Object(a.useContext)(d).dropdowns,"".concat(t,"s")),s=i||[];return r.a.createElement(qt.a,{style:{flex:1}},r.a.createElement(Mt.a,{id:t},n),r.a.createElement(Vt.a,{labelId:t,id:t,value:l||[],required:c,onChange:function(e){o(t,e.target.value)}},s.map(function(e){return r.a.createElement(Tt.a,{key:e["@id"],value:e["@id"]},e.name)})))},Ht=function(e){var t=e.workshop,n=e.onSubmit,l=Object(b.e)(),o=r.a.useState(new Date),i=Object(c.a)(o,2),s=i[0],u=i[1],m=Object(Qe.useBoolean)(!1),p=Object(c.a)(m,2),f=p[0],v=p[1],E=Object(a.useContext)(d).dropdowns,h=Wt(E,"skills"),y=Lt(E,"skills");return r.a.createElement(we.a,{initialValues:t,onSubmit:function(){var e=Object(k.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.setTrue(),e.next=3,n(t);case 3:setTimeout(function(){v.setFalse(),l.push("/")},500);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),render:function(e){var n=e.handleChange,a=e.handleSubmit,l=e.values,o=e.setFieldValue;return r.a.createElement("form",{onSubmit:a},r.a.createElement(Jt,null,r.a.createElement(At,{label:"Date",handleChange:u,value:s}),r.a.createElement(Qt,{id:"nbParticipants",value:l.nbParticipants,label:"Nombre de participants",handleChange:n})),r.a.createElement(Jt,null,r.a.createElement($t,{id:"duration",label:"Dur\xe9e",value:l.duration,setFieldValue:o,required:!0}),r.a.createElement(Y.a,{value:l.attendees,label:"Qui a anim\xe9 l'atelier",name:"attendees",type:"text",variant:"outlined",onChange:n,style:{marginLeft:8,marginRight:8,flex:1}})),r.a.createElement(Jt,null,r.a.createElement(zt,{id:"topics",label:"Th\xe8mes",value:l.topics,setFieldValue:function(e,t){o("topics",t),o("skills",function(e,t){var n=e;return t.reduce(function(e,t){return[].concat(Object(Ue.a)(e),Object(Ue.a)(y.filter(function(e){return e.topic["@id"]===t})))},[]).forEach(function(e){n.includes(e["@id"])||n.push(e["@id"])}),n}(l.skills,t))}})),r.a.createElement(Jt,null,r.a.createElement("div",null,l.skills.map(function(e){return r.a.createElement(X.a,{key:e,label:Kt(h,e),variant:"outlined",onDelete:function(){return o("skills",l.skills.filter(function(t){return t!==e}))}})}))),r.a.createElement(Jt,null,r.a.createElement(zt,{id:"participantKinds",label:"Types de participants",value:l.participantKinds,setFieldValue:o})),r.a.createElement(Jt,null,r.a.createElement(zt,{id:"ageBreakpoints",label:"Tranches d'\xe2ge",value:l.ageBreakpoints,setFieldValue:o})),r.a.createElement(Jt,null,r.a.createElement(zt,{id:"usedEquipments",label:"Outils utilis\xe9s",value:l.usedEquipments,setFieldValue:o})),r.a.createElement(Jt,null,r.a.createElement(zt,{id:"equipmentSuppliers",label:"Equipement fourni par",value:l.equipmentSuppliers,setFieldValue:o})),r.a.createElement(Jt,null,r.a.createElement(Y.a,{value:l.globalReport,label:"Bilan global",name:"globalReport",type:"text",variant:"outlined",multiline:!0,rows:"4",onChange:n,style:{flex:1}})),r.a.createElement(Jt,null,r.a.createElement(Y.a,{value:l.improvementAxis,label:"Axes d'am\xe9lioration",name:"improvementAxis",type:"text",variant:"outlined",multiline:!0,rows:"4",onChange:n,style:{flex:1}})),r.a.createElement(Jt,null,r.a.createElement(St.a,{control:r.a.createElement(Dt.a,{value:l.usedVault,onChange:function(e,t){o("usedVault",t)},color:"primary"}),label:r.a.createElement("span",{style:{color:"white"}},"Coffre-fort num\xe9rique")})),l.usedVault?r.a.createElement(Bt.a,null,r.a.createElement(Jt,null,r.a.createElement(Qt,{id:"nbBeneficiariesAccounts",value:l.nbBeneficiariesAccounts,label:"Nombre de cfn cr\xe9es",handleChange:n}),r.a.createElement(Qt,{id:"nbStoredDocs",value:l.nbStoredDocs,label:"Nombre de documents stock\xe9s",handleChange:n})),r.a.createElement(Jt,null,r.a.createElement(Qt,{id:"nbCreatedEvents",value:l.nbCreatedEvents,label:"\xc9v\xe8nements ajout\xe9s",handleChange:n}),r.a.createElement(Qt,{id:"nbCreatedContacts",value:l.nbCreatedContacts,label:"Contacts ajout\xe9s",handleChange:n}),r.a.createElement(Qt,{id:"nbCreatedNotes",value:l.nbCreatedNotes,label:"Notes ajout\xe9es",handleChange:n}))):null,r.a.createElement(Jt,null,f?r.a.createElement(H.a,{variant:"contained",color:"primary",disabled:!0,style:{marginLeft:"auto"}},r.a.createElement(It.a,{size:20})):r.a.createElement(H.a,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:"auto"}},t.id?"Mettre \xe0 jour":"Cr\xe9er")))}})},Xt=function(){var e,t=Object(b.g)().workshopId,n=Object(a.useState)(null),l=Object(c.a)(n,2),o=l[0],i=l[1],s=o?(e=o,"".concat(S).concat(e["@id"])):"";z("".concat(F,"/").concat(parseInt(t)),i);var u=L(s,function(){},"PUT");return r.a.createElement(y.a,{maxWidth:"sm"},null===o?r.a.createElement(r.a.Fragment,null):r.a.createElement(Ht,{workshop:o,onSubmit:u}))},Yt=function(e){var t=e.list,n=e.dropdownKind,l=Object(a.useContext)(d).dropdowns,o=n?Wt(l,n):{};return r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement(X.a,{key:e,label:Kt(o,e),variant:"outlined"})}))},Zt=function(e){var t=e.iri,n=e.dropdownKind,l=Object(a.useContext)(d).dropdowns,o=n?Wt(l,n):{};return r.a.createElement("span",null,Kt(o,t))};function _t(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n"]);return _t=function(){return e},e}var en=Object(x.a)(at.a)(_t()),tn=function(e){var t=e.workshop;return r.a.createElement(en,null,r.a.createElement(rt.a,{style:{position:"relative",backgroundColor:"#212121"}},r.a.createElement(h.a,{color:"textPrimary",gutterBottom:!0},"Date : ",Object(it.a)(new Date(t.date),"dd-MM-yyyy")),r.a.createElement(h.a,null,"Qui a anim\xe9 l'atelier : ",t.attendees),r.a.createElement(h.a,null,"Nombre de participants : ",t.nbParticipants),"Dur\xe9e : ",r.a.createElement(Zt,{iri:t.duration,dropdownKind:"durations"})," minutes",r.a.createElement("div",null,"Th\xe8mes : ",r.a.createElement(Yt,{list:t.topics,dropdownKind:"topics"})),t.topicPrecision?r.a.createElement(h.a,{variant:"body2",component:"p"},"Pr\xe9cisions sur le th\xe8me : ",t.topicPrecision):null,r.a.createElement("div",null,"Comp\xe9tences : ",r.a.createElement(Yt,{list:t.skills,dropdownKind:"skills"})),r.a.createElement("div",null,"Types de participants : ",r.a.createElement(Yt,{list:t.participantKinds,dropdownKind:"participantKinds"})),r.a.createElement("div",null,"Tranches d'\xe2ge : ",r.a.createElement(Yt,{list:t.ageBreakpoints,dropdownKind:"ageBreakpoints"})),r.a.createElement("div",null,"Outils utilis\xe9s : ",r.a.createElement(Yt,{list:t.usedEquipments,dropdownKind:"usedEquipments"})),r.a.createElement("div",null,"Equipement fourni par : ",r.a.createElement(Yt,{list:t.equipmentSuppliers,dropdownKind:"equipmentSuppliers"})),r.a.createElement(h.a,null,"Bilan global : ",t.globalReport),r.a.createElement(h.a,null,"Axes d'am\xe9lioration : ",t.improvementAxis),t.usedVault?r.a.createElement("div",null,r.a.createElement(h.a,null,"Coffre-fort num\xe9rique"),r.a.createElement(h.a,{variant:"body2",component:"p"},"Nb CFN cr\xe9\xe9s : ",t.nbBeneficiariesAccounts),r.a.createElement(h.a,{variant:"body2",component:"p"},"Nb documents : ",t.nbStoredDocs),r.a.createElement(h.a,{variant:"body2",component:"p"},"Nb rappels : ",t.nbCreatedEvents),r.a.createElement(h.a,{variant:"body2",component:"p"},"Nb contacts : ",t.nbCreatedContacts),r.a.createElement(h.a,{variant:"body2",component:"p"},"Nb notes : ",t.nbCreatedNotes)):null))};function nn(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n  margin-bottom: 32px;\n"]);return nn=function(){return e},e}function an(){var e=Object(v.a)(["\n  position: absolute;\n  right: 0;\n"]);return an=function(){return e},e}function rn(){var e=Object(v.a)(["\n  flex: 1;\n"]);return rn=function(){return e},e}function ln(){var e=Object(v.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  color: whitesmoke;\n"]);return ln=function(){return e},e}var on=x.a.div(ln()),cn=Object(x.a)(h.a)(rn()),sn=Object(x.a)(E.a)(an()),un=x.a.div(nn()),mn=function(){var e=r.a.useState(null),t=Object(c.a)(e,2),n=t[0],l=t[1],o=Object(b.e)(),i=Object(b.g)().centerId,s=Object(a.useContext)(m),u=s.workshops,d=s.setWorkshops,p=Object(Qe.useNumber)(0),f=Object(c.a)(p,2),v=f[0],E=f[1],g=Math.ceil(v/30),O=function(){var e=Object(b.f)().search;return r.a.useMemo(function(){return new URLSearchParams(e)},[e])}().get("page"),j=null===O?1:O;z("".concat(A,"/").concat(i),l),z("".concat(F,"?center=").concat(i,"&page=").concat(j),function(e){d(e["hydra:member"]),E.setValue(e["hydra:totalItems"])});var x=function(){var e=Object(k.a)(w.a.mark(function e(t,n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.push("/centers/".concat(i,"/workshops?page=").concat(null===n?"1":n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(y.a,{maxWidth:"sm"},null===n?null:r.a.createElement(on,null,r.a.createElement(cn,{variant:"h4",gutterBottom:!0,color:"textPrimary"},n.name),r.a.createElement(h.a,null,"Nb d'ateliers : ",n.workshops?n.workshops.length:0)),r.a.createElement(cn,{variant:"h4",gutterBottom:!0,color:"textPrimary"},"Ateliers"),null===n?null:r.a.createElement(sn,{size:"medium",color:"primary","aria-label":"add",onClick:function(){return o.push("/centers/".concat(n.id,"/create-workshop"))}},r.a.createElement(Le.a,null)),r.a.createElement(un,null,r.a.createElement(Ke.a,{count:g,variant:"outlined",page:parseInt(j),onChange:x})),u.map(function(e){return r.a.createElement(tn,{key:e["@id"],workshop:e})}))},dn=function(){var e=Object(b.g)().centerId,t={center:"".concat(A,"/").concat(e),date:new Date,skills:[],nbParticipants:0,nbBeneficiariesAccounts:0,nbStoredDocs:0,nbCreatedEvents:0,nbCreatedContacts:0,nbCreatedNotes:0},n=L(F,function(){},"POST");return r.a.createElement(y.a,{maxWidth:"sm"},r.a.createElement(Ht,{workshop:t,onSubmit:n}))},pn=function(){return a.createElement(p.a,null,a.createElement(b.a,{path:"/",exact:!0,component:je}),a.createElement(b.a,{path:"/login",component:qe}),a.createElement(b.a,{path:"/charts",component:$}),a.createElement(b.a,{path:"/notes/:centerId",component:Nt}),a.createElement(b.a,{path:"/centers/:centerId/workshops",component:mn}),a.createElement(b.a,{path:"/workshop/:workshopId/edit",component:Xt}),a.createElement(b.a,{path:"/centers/:centerId/create-workshop",component:dn}))},bn=Object(i.a)({palette:{type:"dark",background:{default:"#203468",paper:"#203468"},text:{primary:"#eff1f7",secondary:"#eff1f7"},primary:{main:"#eff1f7",contrastText:"#677273"}}}),fn=function(){var e=a.useState([]),t=Object(c.a)(e,2),n=t[0],r=t[1],l=a.useState([]),o=Object(c.a)(l,2),i=o[0],p=o[1],b=a.useState({}),f=Object(c.a)(b,2),v=f[0],E=f[1];return z(q,E),a.createElement(s.a,{theme:bn},a.createElement(m.Provider,{value:{workshops:i,setWorkshops:p}},a.createElement(u.Provider,{value:{notes:n,setNotes:r}},a.createElement(d.Provider,{value:{dropdowns:v,setDropdowns:E}},a.createElement(pn,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(fn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[174,1,2]]]);
//# sourceMappingURL=main.dd627070.chunk.js.map